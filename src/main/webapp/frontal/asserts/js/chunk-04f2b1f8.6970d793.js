(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-04f2b1f8"],{"0ee4":function(t,a,e){},"2f3b":function(t,a,e){"use strict";e.d(a,"f",(function(){return i})),e.d(a,"h",(function(){return o})),e.d(a,"g",(function(){return r})),e.d(a,"i",(function(){return l})),e.d(a,"j",(function(){return c})),e.d(a,"d",(function(){return d})),e.d(a,"e",(function(){return u})),e.d(a,"b",(function(){return p})),e.d(a,"k",(function(){return h})),e.d(a,"a",(function(){return f})),e.d(a,"c",(function(){return v}));var s=e("1b11"),n=ServerGlobalConstant.BASE_URL,i=function(t){return s.a.request({url:n+"/warninghomecontroller/getneedhandletask",method:"get",params:t})},o=function(t){return s.a.request({url:n+"/warninghomecontroller/gettasktypeinfo/"+t,method:"get"})},r=function(t){return s.a.request({url:n+"/warninghomecontroller/gettaskhandleorderinfo/"+t,method:"get"})},l=function(t){return s.a.request({url:n+"/warninghomecontroller/getwarningtaskmonthlytrend",method:"get",params:t})},c=function(t){return s.a.request({url:n+"/taskcentercontroller/queryTasks",method:"post",data:t})},d=function(t,a){return s.a.request({url:"".concat(n,"/taskcentercontroller/getTaskById/").concat(t,"/").concat(a),method:"get"})},u=function(t){return s.a.request({url:n+"/taskcentercontroller/getYjRwDepartments",method:"get",params:t})},p=function(t){return s.a.request({url:n+"/taskcentercontroller/getAllWarningTypes",method:"get",params:t})},h=function(t){return s.a.request({url:n+"/taskcentercontroller/taskFeedback",method:"post",data:t})},f=function(t){return s.a.request({url:n+"/taskcentercontroller/deletefile/"+t,method:"get"})},v=function(t){return s.a.request({url:n+"/LIDARController/get/LIDAR/DataTime?time="+t,method:"get"})}},"2fce":function(t,a,e){"use strict";var s=e("a434");e.n(s).a},"5f29":function(t,a,e){t.exports=e.p+"asserts/img/rank_3.3882c7c9.png"},"67a0":function(t,a,e){"use strict";var s=e("0ee4");e.n(s).a},"6b3d":function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTMyIDc5LjE1OTI4NCwgMjAxNi8wNC8xOS0xMzoxMzo0MCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUuNSAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MkJDRTdCODUwRjg1MTFFQjkwQ0E4MzIxMjU5MDVCMEYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MkJDRTdCODYwRjg1MTFFQjkwQ0E4MzIxMjU5MDVCMEYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyQkNFN0I4MzBGODUxMUVCOTBDQTgzMjEyNTkwNUIwRiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyQkNFN0I4NDBGODUxMUVCOTBDQTgzMjEyNTkwNUIwRiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PlLvpkwAAADdSURBVHjanJIxCsJAEEWzGixDGlHwArbqBbQNAS30JnbaaO1N9A7mCIp6AcFCRBDBRpT1LcxqCAlRB174s38m2eys0lo7GTGBJ0zTzEJMt2APnuRlqIr2xGumNa7gDCPJI1iKHou3flez1RB8s2WoQ0e0H1tvi2fXQyMiOEEgRg82+hNGd8ULpDZSPBQfHsABKrAAlTgLc4J9OEIN5o68ybLT2bGN16rEOB5QzBiPGY1rk2Rj5lBtfdo4foq/G91EPv+20f6juVJDKOXU32EGV3u8Dbjo/LhJrfMSYAAbrOgiqwmcqgAAAABJRU5ErkJggg=="},"7f7f":function(t,a,e){var s=e("86cc").f,n=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in n||e("9e1e")&&s(n,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},9553:function(t,a,e){"use strict";e.r(a),e("7f7f");var s=e("2f3b"),n={data:function(){return{todoTaskData:[],todoTask:{"执法大队":{FZJG:"执法大队",NUM:"210",OVERTIME:!1}},bjRwLx:[],depYjlist:[],monthTrend:[],dateTypeOpts:[{label:"全部",value:"all"},{label:"本周",value:"week"},{label:"本月",value:"month"},{label:"本年",value:"year"}],curTypeOpt:{},curListOpt:{},echartData:{xAxis:[],series:[{name:"",data:[]}]},autoChartOpt:{series:[{},{},{},{},{},{name:"",type:"line",markLine:{}}]},pieTypeData:[{},{},{},{},{}],lineOption:{toolbox:{show:!1},legend:{show:!0,left:"right",data:["任务数","办结率"]}}}},mounted:function(){this.curTypeOpt=this.dateTypeOpts[0],this.curListOpt=this.dateTypeOpts[0],this.getChartData(),this.fetchListData()},methods:{fetchDataTest:function(){var t=this;setTimeout((function(){t.todoTask["执法大队"].NUM=23,t.todoTask["执法大队"].OVERTIME=!0}),6e3)},findTodoTaskData:function(t){return void 0!==this.todoTask[t]?this.todoTask[t]:{NUM:0,OVERTIME:!1}},fetchListData:function(){var t=this,a=this;Object(s.f)().then((function(e){t.todoTaskData=e.data;var s={};a.todoTaskData.map((function(t){var a=t.FZJG;s[a]=t})),a.todoTask=s})),this.getPieData(),this.getListData(),this.getMonthTrendData()},setTypeOpt:function(t){this.curTypeOpt=t,this.getPieData()},setListOpt:function(t){this.curListOpt=t,this.getListData()},toolTipFormatter:function(t){for(var a="<div><p>"+t[0].name+"月</p></div>",e=0;e<t.length;e++)a+=t[e].marker+" "+t[e].seriesName+": "+t[e].data+"%<br>";return a},getChartData:function(){for(var t=this.monthTrend.map((function(t){return t.CJSJ})),a=[],e=[],s=[],n=0;n<this.monthTrend.length;n++)for(var i=this.monthTrend[n].list,o=0;o<i.length;o++){var r=e.indexOf(i[o].NAME);-1<r?s[r].push(i[o].TOTAL):(e.push(i[o].NAME),s.push([i[o].TOTAL]))}for(n=0;n<e.length;n++)a.push({name:e[n],type:"bar",stack:"任务数",data:s[n]});a.push({name:"办结率(%)",type:"line",yAxisIndex:1,data:this.monthTrend.map((function(t){return parseFloat((100*t.BJL).toFixed(2))}))}),this.echartData={xAxis:t,series:a}},getPieData:function(){var t=this,a=this;Object(s.h)(this.curTypeOpt.value).then((function(e){a.bjRwLx=e.data.taskArr,t.pieTypeData=t.bjRwLx.map((function(t){return{name:t.TYPE,value:t.NUM}}))}))},getListData:function(){var t=this;Object(s.g)(this.curListOpt.value).then((function(a){t.depYjlist=a.data,t.popOrder(t.depYjlist,"BJL","desc");for(var e=0;e<t.depYjlist.length;e++)t.depYjlist[e].index=e+1}))},getMonthTrendData:function(){var t=this;Object(s.i)().then((function(a){a=a.data,t.monthTrend=a,t.getChartData(),t.getLineOption()}))},getLineOption:function(){for(var t=[],a=0;a<this.monthTrend.length;a++)for(var e=this.monthTrend[a].list,s=0;s<e.length;s++)-1==t.indexOf(e[s].NAME)&&t.push(e[s].NAME);t.push("办结率(%)"),this.lineOption={toolbox:{show:!1},legend:{show:!0,left:"center",data:t},yAxis:[{name:"",min:0,type:"value"},{name:"%",max:100,min:0,type:"value"}],xAxis:{},grid:{containLabel:!0,x:30,y:30,x2:80,y2:30}}},openTaskCenter:function(t){this.$router.push({path:"/home/rwzx/"+t})},popOrder:function(t,a,e){if("asc"==e)for(var s=0;s<t.length-1;s++)for(var n=0;n<t.length-s-1;n++)if(t[n][a]>t[n+1][a])for(var i in t[n]){var o=t[n][i];t[n][i]=t[n+1][i],t[n+1][i]=o}if("desc"==e)for(s=0;s<t.length-1;s++)for(n=0;n<t.length-s-1;n++)if(t[n][a]<t[n+1][a])for(var i in t[n])o=t[n][i],t[n][i]=t[n+1][i],t[n+1][i]=o}}},i=(e("2fce"),e("67a0"),e("2877"));n=Object(i.a)(n,(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"pd-container"},[s("div",{staticClass:"gap"}),s("div",{staticClass:"row"},[s("div",{staticClass:"col col-3"},[s("div",{staticClass:"pd-mod",staticStyle:{height:"328px"}},[t._m(0),s("div",{staticClass:"pd-modbd"},[s("div",{staticClass:"pd-cardbx1"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col col-4"},[s("dl",{staticClass:"bg1a"},[s("img",{directives:[{name:"show",rawName:"v-show",value:t.findTodoTaskData("环境监察大队").OVERTIME,expression:"findTodoTaskData('环境监察大队').OVERTIME"}],staticClass:"lapic2",attrs:{src:e("6b3d")}}),s("div",{on:{click:function(a){return t.openTaskCenter("HJJCDD")}}},[s("dt",[t._v("\n                      "+t._s(t.findTodoTaskData("环境监察大队").NUM)+"\n                    ")]),s("dd",[t._v("环境监察大队")])])])]),s("div",{staticClass:"col col-4"},[s("dl",{staticClass:"bg2a"},[s("img",{directives:[{name:"show",rawName:"v-show",value:t.findTodoTaskData("局办公室").OVERTIME,expression:"findTodoTaskData('局办公室').OVERTIME"}],staticClass:"lapic2",attrs:{src:e("6b3d")}}),s("div",{on:{click:function(a){return t.openTaskCenter("JBGS")}}},[s("dt",[t._v("\n                      "+t._s(t.findTodoTaskData("局办公室").NUM)+"\n                    ")]),s("dd",[t._v("局办公室")])])])]),s("div",{staticClass:"col col-4"},[s("dl",{staticClass:"bg3a"},[s("img",{directives:[{name:"show",rawName:"v-show",value:t.findTodoTaskData("大气科").OVERTIME,expression:"findTodoTaskData('大气科').OVERTIME"}],staticClass:"lapic2",attrs:{src:e("6b3d")}}),s("div",{on:{click:function(a){return t.openTaskCenter("DQK")}}},[s("dt",[t._v("\n                      "+t._s(t.findTodoTaskData("大气科").NUM)+"\n                    ")]),s("dd",[t._v("大气科")])])])]),s("div",{staticClass:"col col-8"},[s("dl",{staticClass:"bg4a"},[s("img",{directives:[{name:"show",rawName:"v-show",value:t.findTodoTaskData("监测站").OVERTIME,expression:"findTodoTaskData('监测站').OVERTIME"}],staticClass:"lapic2",attrs:{src:e("6b3d")}}),s("div",{on:{click:function(a){return t.openTaskCenter("JCZ")}}},[s("dt",[t._v("\n                      "+t._s(t.findTodoTaskData("监测站").NUM)+"\n                    ")]),s("dd",[t._v("监测站")])])])]),s("div",{staticClass:"col col-4"},[s("dl",{staticClass:"bg5a"},[s("img",{directives:[{name:"show",rawName:"v-show",value:t.findTodoTaskData("行政许可科").OVERTIME,expression:"findTodoTaskData('行政许可科').OVERTIME"}],staticClass:"lapic2",attrs:{src:e("6b3d")}}),s("div",{on:{click:function(a){return t.openTaskCenter("XZQKK")}}},[s("dt",[t._v("\n                      "+t._s(t.findTodoTaskData("行政许可科").NUM)+"\n                    ")]),s("dd",[t._v("行政许可科")])])])])])])])])]),s("div",{staticClass:"col col-4"},[s("div",{staticClass:"pd-mod",staticStyle:{height:"328px"}},[s("div",{staticClass:"pd-modhd"},[s("strong",[t._v("报警任务类型统计")]),s("ul",{staticClass:"pd-ultbs1"},t._l(t.dateTypeOpts,(function(a){return s("li",{key:a.label,class:{on:t.curTypeOpt.value===a.value},staticStyle:{cursor:"pointer"},on:{click:function(e){return t.setTypeOpt(a)}}},[t._v("\n              "+t._s(a.label)+"\n            ")])})),0)]),s("div",{staticClass:"pd-modbd",staticStyle:{height:"230px"}},[s("p-pie",{staticStyle:{width:"100%",height:"300px"},attrs:{data:t.pieTypeData,config:{color:"normalColor"},option:{toolbox:{show:!1},tooltip:{trigger:"item",formatter:"{a}<br/> {b} : {c} ({d}%)"},series:[{name:"报警类型",label:{show:!0,formatter:"{b}: {c}"}}]}}})],1)])]),s("div",{staticClass:"col col-5"},[s("div",{staticClass:"pd-mod",staticStyle:{height:"328px"}},[s("div",{staticClass:"pd-modhd"},[s("strong",[t._v("科室预警任务办结率排名")]),s("ul",{staticClass:"pd-ultbs1"},t._l(t.dateTypeOpts,(function(a){return s("li",{key:a.label,class:{on:t.curListOpt.value===a.value},staticStyle:{cursor:"pointer"},on:{click:function(e){return t.setListOpt(a)}}},[t._v("\n              "+t._s(a.label)+"\n            ")])})),0)]),s("div",{staticClass:"pd-modbd"},[s("div",{staticClass:"gap"}),s("el-table",{staticClass:"pd-tablelst1a",staticStyle:{width:"100%"},attrs:{data:t.depYjlist,border:""}},[s("el-table-column",{attrs:{label:"排名",prop:"index",width:"60"},scopedSlots:t._u([{key:"default",fn:function(a){return[a.row.index<=3?s("div",{staticClass:"cell"},[1==a.row.index?s("img",{attrs:{src:e("ca5a2")}}):t._e(),2==a.row.index?s("img",{attrs:{src:e("fc27")}}):t._e(),3==a.row.index?s("img",{attrs:{src:e("5f29")}}):t._e()]):t._e(),3<a.row.index?s("div",{staticClass:"cell"},[t._v("\n                  "+t._s(a.row.index)+"\n                ")]):t._e()]}}])}),s("el-table-column",{attrs:{prop:"FZJG",label:"科室",width:"190"}}),s("el-table-column",{attrs:{prop:"NUM",label:"任务数",width:"90",sortable:""}}),s("el-table-column",{attrs:{prop:"RED",label:"办结数(红灯)",width:"110",sortable:""}}),s("el-table-column",{attrs:{prop:"YELLOW",label:"办结数(黄灯)",width:"110",sortable:""}}),s("el-table-column",{attrs:{prop:"GREEN",label:"办结数(绿灯)",width:"110",sortable:""}}),s("el-table-column",{attrs:{prop:"BJL",label:"办结率",sortable:"",width:"90"},scopedSlots:t._u([{key:"default",fn:function(a){return[s("div",{staticClass:"cell"},[t._v("\n                  "+t._s(parseFloat((100*a.row.BJL).toFixed(2))+"%")+"\n                ")])]}}])})],1)],1)])])]),s("div",{staticClass:"gap"}),s("div",{staticClass:"pd-mod",staticStyle:{height:"328px"}},[t._m(1),s("div",{staticClass:"pd-modbd"},[s("div",{staticClass:"gap"}),s("p-line",{ref:"lineChart",staticClass:"auto",staticStyle:{width:"1300px",height:"260px"},attrs:{config:{color:["#FF75DA","#84C6FF","#3DCBAB","#E0C02A","#F95B5A","#D592FF","#FF97B9","#50C7EC","#FAC88D","#CED0FF","#9EA6FC","#79C628","#FF8896","#C4F1E6"]},data:t.echartData,"show-option":!1,option:t.lineOption}})],1)])])}),[function(){var t=this.$createElement;t=this._self._c||t;return t("div",{staticClass:"pd-modhd"},[t("strong",[this._v("待办报警任务")]),t("b",[this._v("存在超期任务")])])},function(){var t=this.$createElement;t=this._self._c||t;return t("div",{staticClass:"pd-modhd"},[t("strong",[this._v("报警任务月度变化趋势分析")])])}],!1,null,"823a4182",null);a.default=n.exports},a434:function(t,a,e){},ca5a2:function(t,a,e){t.exports=e.p+"asserts/img/rank_1.76301fa0.png"},fc27:function(t,a,e){t.exports=e.p+"asserts/img/rank_2.246a8e91.png"}}]);