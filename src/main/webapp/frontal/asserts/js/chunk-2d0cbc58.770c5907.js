(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2d0cbc58"],{"4aa6":function(e,t,r){"use strict";r.r(t);var l={data:function(){return{formInline:{user:"",region:""}}},methods:{onSubmit:function(){this.$store.commit("user/setSearch",this.formInline),this.$store.dispatch("user/fetchList"),this.$message({showClose:!0,message:"查询",type:"success"})},onAdd:function(){this.$store.commit("user/setAddShow")}}},a=r("2877"),s=Object(a.a)(l,(function(){var e=this,t=e.$createElement;t=e._self._c||t;return t("div",{staticClass:"pad10"},[t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[t("el-form-item",{attrs:{label:"审批人"}},[t("el-input",{attrs:{placeholder:"审批人"},model:{value:e.formInline.user,callback:function(t){e.$set(e.formInline,"user",t)},expression:"formInline.user"}})],1),t("el-form-item",{attrs:{label:"活动区域"}},[t("el-select",{attrs:{placeholder:"活动区域"},model:{value:e.formInline.region,callback:function(t){e.$set(e.formInline,"region",t)},expression:"formInline.region"}},[t("el-option",{attrs:{label:"区域一",value:"shanghai"}}),t("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")]),t("el-button",{attrs:{type:"primary"},on:{click:e.onAdd}},[e._v("新增")])],1)],1)],1)}),[],!1,null,"6e949450",null).exports,o=r("c24f"),i={data:function(){return{dialogFormVisible:!0,name:"",ruleForm:{firstname:"",lastname:"",date1:"",date2:"",delivery:!1,type:[],resource:"",age:""},rules:{firstname:[{required:!0,message:"请输入活动名称",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],lastname:[{required:!0,message:"请输入活动名称"}],age:[{required:!0,message:"请输入活动名称"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){return!!e&&(Object(o.a)(t.ruleForm).then((function(){t.$store.dispatch("user/fetchList"),t.$store.commit("user/setAddHide"),t.$refs.ruleForm.resetFields()})),void t.$message({showClose:!0,message:"恭喜你，这是一条成功消息",type:"success"}))}))},resetForm:function(e){this.$refs[e].resetFields()},beforeClose:function(e){this.$refs[e].resetFields()}}},n=(l=Object(a.a)(i,(function(){var e=this,t=e.$createElement;t=e._self._c||t;return t("div",[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"活动名称",prop:"firstname"}},[t("el-input",{model:{value:e.ruleForm.firstname,callback:function(t){e.$set(e.ruleForm,"firstname",t)},expression:"ruleForm.firstname"}})],1),t("el-form-item",{attrs:{label:"活动区域",prop:"lastname"}},[t("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:e.ruleForm.lastname,callback:function(t){e.$set(e.ruleForm,"lastname",t)},expression:"ruleForm.lastname"}},[t("el-option",{attrs:{label:"区域一",value:"shanghai"}}),t("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1),t("el-form-item",{attrs:{label:"活动时间"}},[t("el-col",{attrs:{span:11}},[t("el-form-item",{attrs:{prop:"date1"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.ruleForm.date1,callback:function(t){e.$set(e.ruleForm,"date1",t)},expression:"ruleForm.date1"}})],1)],1),t("el-col",{staticClass:"line",attrs:{span:2}},[e._v("-")]),t("el-col",{attrs:{span:11}},[t("el-form-item",{attrs:{prop:"date2"}},[t("el-time-picker",{staticStyle:{width:"100%"},attrs:{type:"fixed-time",placeholder:"选择时间"},model:{value:e.ruleForm.date2,callback:function(t){e.$set(e.ruleForm,"date2",t)},expression:"ruleForm.date2"}})],1)],1)],1),t("el-form-item",{attrs:{label:"即时配送",prop:"delivery"}},[t("el-switch",{model:{value:e.ruleForm.delivery,callback:function(t){e.$set(e.ruleForm,"delivery",t)},expression:"ruleForm.delivery"}})],1),t("el-form-item",{attrs:{label:"活动性质",prop:"type"}},[t("el-checkbox-group",{model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},[t("el-checkbox",{attrs:{label:"美食/餐厅线上活动",name:"type"}}),t("el-checkbox",{attrs:{label:"地推活动",name:"type"}}),t("el-checkbox",{attrs:{label:"线下主题活动",name:"type"}}),t("el-checkbox",{attrs:{label:"单纯品牌曝光",name:"type"}})],1)],1),t("el-form-item",{attrs:{label:"特殊资源",prop:"resource"}},[t("el-radio-group",{model:{value:e.ruleForm.resource,callback:function(t){e.$set(e.ruleForm,"resource",t)},expression:"ruleForm.resource"}},[t("el-radio",{attrs:{label:"线上品牌商赞助"}}),t("el-radio",{attrs:{label:"线下场地免费"}})],1)],1),t("el-form-item",{attrs:{label:"活动形式",prop:"age"}},[t("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.age,callback:function(t){e.$set(e.ruleForm,"age",t)},expression:"ruleForm.age"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("立即创建")]),t("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)}),[],!1,null,"29cfd9c3",null).exports,r("8e6e"),r("ac6a"),r("456d"),r("ade3"));function u(e,t){var r,l=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,r)),l}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}i={data:function(){return{dialogFormVisible:!0,name:"",ruleForm:{firstname:"",lastname:"",date1:"",date2:"",delivery:!1,type:[],resource:"",age:""},rules:{firstname:[{required:!0,message:"请输入活动名称",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],lastname:[{required:!0,message:"请输入活动名称"}],age:[{required:!0,message:"请输入活动名称"}]}}},mounted:function(){this.ruleForm=c(c({},this.ruleForm),this.$store.state.user.formData)},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){return!!e&&(Object(o.c)(t.ruleForm._id,t.ruleForm).then((function(){t.$store.dispatch("user/fetchList"),t.$store.commit("user/setEditHide"),t.$refs.ruleForm.resetFields()})),void t.$message({showClose:!0,message:"恭喜你，编辑成功",type:"success"}))}))},resetForm:function(e){this.$refs[e].resetFields()},beforeClose:function(e){this.$refs[e].resetFields()}}},r=Object(a.a)(i,(function(){var e=this,t=e.$createElement;t=e._self._c||t;return t("div",[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"活动名称",prop:"firstname"}},[t("el-input",{model:{value:e.ruleForm.firstname,callback:function(t){e.$set(e.ruleForm,"firstname",t)},expression:"ruleForm.firstname"}})],1),t("el-form-item",{attrs:{label:"活动区域",prop:"lastname"}},[t("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:e.ruleForm.lastname,callback:function(t){e.$set(e.ruleForm,"lastname",t)},expression:"ruleForm.lastname"}},[t("el-option",{attrs:{label:"区域一",value:"shanghai"}}),t("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1),t("el-form-item",{attrs:{label:"活动时间"}},[t("el-col",{attrs:{span:11}},[t("el-form-item",{attrs:{prop:"date1"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.ruleForm.date1,callback:function(t){e.$set(e.ruleForm,"date1",t)},expression:"ruleForm.date1"}})],1)],1),t("el-col",{staticClass:"line",attrs:{span:2}},[e._v("-")]),t("el-col",{attrs:{span:11}},[t("el-form-item",{attrs:{prop:"date2"}},[t("el-time-picker",{staticStyle:{width:"100%"},attrs:{type:"fixed-time",placeholder:"选择时间"},model:{value:e.ruleForm.date2,callback:function(t){e.$set(e.ruleForm,"date2",t)},expression:"ruleForm.date2"}})],1)],1)],1),t("el-form-item",{attrs:{label:"即时配送",prop:"delivery"}},[t("el-switch",{model:{value:e.ruleForm.delivery,callback:function(t){e.$set(e.ruleForm,"delivery",t)},expression:"ruleForm.delivery"}})],1),t("el-form-item",{attrs:{label:"活动性质",prop:"type"}},[t("el-checkbox-group",{model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},[t("el-checkbox",{attrs:{label:"美食/餐厅线上活动",name:"type"}}),t("el-checkbox",{attrs:{label:"地推活动",name:"type"}}),t("el-checkbox",{attrs:{label:"线下主题活动",name:"type"}}),t("el-checkbox",{attrs:{label:"单纯品牌曝光",name:"type"}})],1)],1),t("el-form-item",{attrs:{label:"特殊资源",prop:"resource"}},[t("el-radio-group",{model:{value:e.ruleForm.resource,callback:function(t){e.$set(e.ruleForm,"resource",t)},expression:"ruleForm.resource"}},[t("el-radio",{attrs:{label:"线上品牌商赞助"}}),t("el-radio",{attrs:{label:"线下场地免费"}})],1)],1),t("el-form-item",{attrs:{label:"活动形式",prop:"age"}},[t("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.age,callback:function(t){e.$set(e.ruleForm,"age",t)},expression:"ruleForm.age"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("立即创建")]),t("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)}),[],!1,null,"10a77642",null).exports,i={data:function(){return{name:"user"}},mounted:function(){this.$store.dispatch("user/fetchList")},methods:{handleEdit:function(e,t){this.$store.commit("user/setEditShow",t)},handleDelete:function(e,t){var r=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o.b)(t._id).then((function(){r.$store.dispatch("user/fetchList"),r.$message({showClose:!0,message:"删除成功",type:"success"})}))})).catch((function(){}))},handleSizeChange:function(e){this.$store.commit("user/setSearch",{pageSize:e}),this.$store.dispatch("user/fetchList")},handleCurrentChange:function(e){this.$store.commit("user/setSearch",{pageNum:e}),this.$store.dispatch("user/fetchList")}}},r={data:function(){return{height:0,name:"user"}},components:{Add:l,Operator:s,List:Object(a.a)(i,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.$store.state[this.name].tableObj.tableData,height:e.$attrs.height,border:""}},[r("el-table-column",{attrs:{label:"日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("i",{staticClass:"el-icon-time"}),r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.age))])]}}])}),r("el-table-column",{attrs:{label:"姓名"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-popover",{attrs:{trigger:"hover",placement:"top"}},[r("p",[e._v("姓名: "+e._s(t.row.firstname))]),r("p",[e._v("住址: "+e._s(t.row.lastname))]),r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.age))])],1)])]}}])}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),r("div",{staticClass:"block",staticStyle:{position:"relative",top:"-80px"}},[r("el-pagination",{attrs:{"current-page":e.$store.state[this.name].tableObj.currentPage,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.$store.state[this.name].tableObj.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)}),[],!1,null,"22eb37ae",null).exports,Edit:r},created:function(){var e=document.documentElement.clientHeight-120;this.height=e}},r=Object(a.a)(r,(function(){var e=this,t=e.$createElement;t=e._self._c||t;return t("div",{staticStyle:{width:"100%"}},[t("Operator"),t("List",{attrs:{height:e.height}}),t("transition",{attrs:{name:"el-zoom-in-top"}},[t("el-dialog",{attrs:{title:"新增",visible:e.$store.state.user.addShow},on:{"update:visible":function(t){return e.$set(e.$store.state.user,"addShow",t)}}},[t("Add")],1)],1),t("transition",{attrs:{name:"el-zoom-in-top"}},[t("el-dialog",{attrs:{title:"编辑",visible:e.$store.state.user.editShow},on:{"update:visible":function(t){return e.$set(e.$store.state.user,"editShow",t)}}},[t("Edit")],1)],1)],1)}),[],!1,null,"0436a12e",null),t.default=r.exports}}]);